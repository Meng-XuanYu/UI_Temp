<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>通知设置 - 碎星集</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../css/styles.css">
  <style>
    .notification-container {
      padding: 16px;
    }
    
    .notification-section {
      margin-bottom: 24px;
    }
    
    .notification-header {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 16px;
      color: var(--gray-800);
    }
    
    .dark-mode .notification-header {
      color: var(--gray-200);
    }
    
    .notification-list {
      background-color: white;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }
    
    .dark-mode .notification-list {
      background-color: var(--gray-800);
    }
    
    .notification-item {
      padding: 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid var(--gray-200);
    }
    
    .dark-mode .notification-item {
      border-bottom: 1px solid var(--gray-700);
    }
    
    .notification-item:last-child {
      border-bottom: none;
    }
    
    .notification-title {
      font-weight: 500;
      margin-bottom: 2px;
    }
    
    .notification-description {
      font-size: 12px;
      color: var(--gray-500);
    }
    
    .timing-select {
      width: 100%;
      margin-top: 16px;
      background-color: var(--gray-100);
      border-radius: 12px;
      padding: 16px;
    }
    
    .dark-mode .timing-select {
      background-color: var(--gray-700);
    }
    
    .timing-title {
      font-weight: 500;
      margin-bottom: 12px;
    }
    
    .timing-option {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }
    
    .timing-option input[type="radio"] {
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <div id="app-container">
    <!-- 主要内容 -->
    <div class="app-content">
      <div class="notification-container">
        <div class="flex items-center mb-6">
          <a href="settings.html" class="text-primary-color">
            <i class="fas fa-chevron-left mr-2"></i>返回
          </a>
          <h1 class="text-2xl font-bold mx-auto text-center w-full absolute left-0 right-0">通知设置</h1>
        </div>
        
        <!-- 主要开关 -->
        <div class="notification-section">
          <div class="notification-list">
            <div class="notification-item">
              <div class="notification-content">
                <div class="notification-title">允许推送通知</div>
                <div class="notification-description">开启以接收重要通知和更新</div>
              </div>
              <label class="switch">
                <input type="checkbox" checked id="main-notification-toggle">
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>
        
        <!-- 活动通知 -->
        <div class="notification-section">
          <h2 class="notification-header">活动通知</h2>
          <div class="notification-list">
            <div class="notification-item">
              <div class="notification-content">
                <div class="notification-title">新消息提醒</div>
                <div class="notification-description">当有新的消息时通知你</div>
              </div>
              <label class="switch">
                <input type="checkbox" checked class="notification-toggle">
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="notification-item">
              <div class="notification-content">
                <div class="notification-title">星球更新</div>
                <div class="notification-description">当有人更新星球内容时通知你</div>
              </div>
              <label class="switch">
                <input type="checkbox" checked class="notification-toggle">
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="notification-item">
              <div class="notification-content">
                <div class="notification-title">互动提醒</div>
                <div class="notification-description">当有人对你的星球内容有互动时通知你</div>
              </div>
              <label class="switch">
                <input type="checkbox" checked class="notification-toggle">
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>
        
        <!-- 系统通知 -->
        <div class="notification-section">
          <h2 class="notification-header">系统通知</h2>
          <div class="notification-list">
            <div class="notification-item">
              <div class="notification-content">
                <div class="notification-title">应用更新</div>
                <div class="notification-description">当有新版本可用时通知你</div>
              </div>
              <label class="switch">
                <input type="checkbox" checked class="notification-toggle">
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="notification-item">
              <div class="notification-content">
                <div class="notification-title">安全提醒</div>
                <div class="notification-description">关于你账号安全的重要提醒</div>
              </div>
              <label class="switch">
                <input type="checkbox" checked class="notification-toggle">
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="notification-item">
              <div class="notification-content">
                <div class="notification-title">营销信息</div>
                <div class="notification-description">关于产品和服务的最新信息</div>
              </div>
              <label class="switch">
                <input type="checkbox" class="notification-toggle">
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>
        
        <!-- 通知时段 -->
        <div class="notification-section">
          <h2 class="notification-header">通知时段</h2>
          <div class="timing-select">
            <div class="timing-title">设置接收通知的时间段</div>
            <div class="timing-option">
              <input type="radio" id="timing-all" name="timing" checked>
              <label for="timing-all">全天候接收通知</label>
            </div>
            <div class="timing-option">
              <input type="radio" id="timing-day" name="timing">
              <label for="timing-day">仅白天接收 (8:00 - 22:00)</label>
            </div>
            <div class="timing-option">
              <input type="radio" id="timing-custom" name="timing">
              <label for="timing-custom">自定义时段</label>
            </div>
            
            <div class="flex mt-4 gap-4" id="custom-timing" style="display: none;">
              <div class="w-1/2">
                <label class="input-label">开始时间</label>
                <input type="time" class="input" value="09:00">
              </div>
              <div class="w-1/2">
                <label class="input-label">结束时间</label>
                <input type="time" class="input" value="21:00">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 通知开关联动
    const mainToggle = document.getElementById('main-notification-toggle');
    const notificationToggles = document.querySelectorAll('.notification-toggle');
    
    mainToggle.addEventListener('change', function() {
      const isEnabled = this.checked;
      
      notificationToggles.forEach(toggle => {
        toggle.disabled = !isEnabled;
        if (!isEnabled) {
          toggle.parentElement.classList.add('opacity-50');
        } else {
          toggle.parentElement.classList.remove('opacity-50');
        }
      });
    });
    
    // 自定义时段显示控制
    const timingOptions = document.querySelectorAll('input[name="timing"]');
    const customTiming = document.getElementById('custom-timing');
    
    timingOptions.forEach(option => {
      option.addEventListener('change', function() {
        if (this.id === 'timing-custom' && this.checked) {
          customTiming.style.display = 'flex';
        } else {
          customTiming.style.display = 'none';
        }
      });
    });
    
    // 接收主页面的暗色模式切换消息
    window.addEventListener('message', function(event) {
      if (event.data === 'toggle-theme') {
        document.body.classList.toggle('dark-mode');
      }
    });
  </script>
</body>
</html> 